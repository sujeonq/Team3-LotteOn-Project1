<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/userLayout.html}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[[${headerInfo.hd_title}]]:[[${headerInfo.hd_subtitle}]]</title>
    <link rel="stylesheet" th:href="@{/css/user/customerregister.css}">
    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    <script th:src="@{/js/validation.js}"></script>
    <script th:src="@{/js/postcode.js}"></script>


</head>
<body>
<th:block layout:fragment="content">
    <main>
        <nav class="registerTop">
            <div>
                <p>일반 회원가입</p>
            </div>
        </nav>

        <form action="" method="POST">
            <table>
                <tr>
                    <th><label for="uid">아이디</label></th>
                    <td>
                        <input type="text" id="uid" name="uid" placeholder="영문, 숫자 4-12자 설정" required>
                        <button type="button" id="btnCheckUid">ID 중복확인</button>
                        <span class="validation-message" id="uidValidation" style="margin-left: 10px;"></span>
                    </td>
                </tr>
                <tr>
                    <th><label for="pass">비밀번호</label></th>
                    <td>
                        <input type="password" id="pass" name="pass" placeholder="영문, 숫자, 특수문자 8-12자 설정" required>
                        <span class="validation-message" id="passValidation" style="color: red;"></span>
                    </td>
                </tr>
                <tr>
                    <th><label for="passwordConfirm">비밀번호확인</label></th>
                    <td>
                        <input type="password" id="passwordConfirm" name="passConfirm" placeholder="비밀번호 확인" required>
                        <span class="validation-message" id="passConfirmValidation" style="color: red;"></span>
                    </td>
                </tr>
            </table>

            <table>
                <tr>
                    <th><label for="name">이름</label></th>
                    <td>
                        <input type="text" id="name" name="name" placeholder="이름입력" required>
                        <span class="validation-message" id="nameValidation" style="color: red;"></span>
                    </td>
                </tr>
                <tr>
                    <th><label>성별</label></th>
                    <td>
                        <div class="gender">
                            <input type="radio" id="male" name="gender" value="male" required>
                            <label for="male">남</label>
                            <input type="radio" id="female" name="gender" value="female" required>
                            <label for="female">여</label>
                        </div>
                        <span class="validation-message" id="genderValidation" style="color: red;"></span>
                    </td>
                </tr>
                <tr>
                    <th><label for="email">EMAIL</label></th>
                    <td>
                        <input type="email" id="email" name="email" placeholder="이메일입력" required>
                        <button type="button" id="btnSendEmail">이메일 인증</button>
                        <span class="validation-message" id="emailValidation"></span>
                    </td>

                </tr>
                <tr id="codeInputRow" style="display:none;">
                    <th><label for="emailCode">인증번호</label></th>
                    <td>
                        <input type="text" id="emailCode" name="emailCode" placeholder="인증번호 입력">
                        <button type="button" id="btnEmailCode">인증번호 확인</button>
                        <span class="validation-message" id="codeValidation"></span>
                    </td>
                </tr>
                <tr>
                    <th><label for="phone">휴대폰</label></th>
                    <td>
                        <input type="tel" id="phone" name="hp" placeholder="휴대폰입력" required>
                        <!--                        <button type="button" id="btnSendPhone">휴대폰 인증</button>-->
                        <span class="validation-message" id="phoneValidation" style="color: red;"></span>
                    </td>
                </tr>
                <tr>
                    <th><label for="zipcode">주소</label></th>
                    <td>
                        <input type="text" id="zipcode" name="postcode" placeholder="우편번호 입력">
                        <button type="button" id="btnPostCode">우편번호 검색</button>

                        <input type="text" id="address1" name="addr" placeholder="기본주소 입력">
                        <input type="text" id="address2" name="addr2" placeholder="상세주소 입력">
                    </td>
                </tr>
            </table>

            <div class="btn-container">
                <button type="submit" class="btn">회원가입</button>
            </div>
        </form>

    </main>

    <script>
        // DOMContentLoaded를 사용하여 DOM이 완전히 로드된 후에 함수 설정
        document.addEventListener("DOMContentLoaded", function () {
            document.getElementById('btnPostCode').onclick = function () {
                postcode(); // postcode 함수 호출
            };
        });
    </script>

</th:block>
